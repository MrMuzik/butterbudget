import{s as H,n as I,r as J,o as M}from"../chunks/scheduler.BvLojk_z.js";import{S as R,i as x,e as T,s as E,c as B,g as j,b as U,j as $,f as m,n as y,d as b,o as A,p as N,q as F,r as z,h as P,k as S,l as w,m as L}from"../chunks/index.DGhVwavX.js";function O(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function q(n,l,p){const f=n.slice();return f[10]=l[p],f}function D(n){let l,p=n[10].description+"",f,s,o=n[10].amount+"",a,r,i,v="Delete",_,h,C;function g(){return n[7](n[10])}return{c(){l=T("li"),f=P(p),s=P(" - $"),a=P(o),r=E(),i=T("button"),i.textContent=v,_=E()},l(d){l=B(d,"LI",{});var e=$(l);f=S(e,p),s=S(e," - $"),a=S(e,o),r=U(e),i=B(e,"BUTTON",{"data-svelte-h":!0}),j(i)!=="svelte-12caasq"&&(i.textContent=v),_=U(e),e.forEach(m)},m(d,e){b(d,l,e),w(l,f),w(l,s),w(l,a),w(l,r),w(l,i),w(l,_),h||(C=N(i,"click",g),h=!0)},p(d,e){n=d,e&1&&p!==(p=n[10].description+"")&&L(f,p),e&1&&o!==(o=n[10].amount+"")&&L(a,o)},d(d){d&&m(l),h=!1,C()}}}function G(n){let l,p="Budget Tracker",f,s,o,a,r,i,v="Add Budget",_,h,C,g,d=O(n[0]),e=[];for(let t=0;t<d.length;t+=1)e[t]=D(q(n,d,t));return{c(){l=T("h1"),l.textContent=p,f=E(),s=T("input"),o=E(),a=T("input"),r=E(),i=T("button"),i.textContent=v,_=E(),h=T("ul");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){l=B(t,"H1",{"data-svelte-h":!0}),j(l)!=="svelte-j6orl1"&&(l.textContent=p),f=U(t),s=B(t,"INPUT",{type:!0,placeholder:!0}),o=U(t),a=B(t,"INPUT",{type:!0,placeholder:!0}),r=U(t),i=B(t,"BUTTON",{"data-svelte-h":!0}),j(i)!=="svelte-dns8g"&&(i.textContent=v),_=U(t),h=B(t,"UL",{});var c=$(h);for(let u=0;u<e.length;u+=1)e[u].l(c);c.forEach(m),this.h()},h(){y(s,"type","text"),y(s,"placeholder","Description"),y(a,"type","number"),y(a,"placeholder","Amount")},m(t,c){b(t,l,c),b(t,f,c),b(t,s,c),A(s,n[1]),b(t,o,c),b(t,a,c),A(a,n[2]),b(t,r,c),b(t,i,c),b(t,_,c),b(t,h,c);for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(h,null);C||(g=[N(s,"input",n[5]),N(a,"input",n[6]),N(i,"click",n[3])],C=!0)},p(t,[c]){if(c&2&&s.value!==t[1]&&A(s,t[1]),c&4&&F(a.value)!==t[2]&&A(a,t[2]),c&17){d=O(t[0]);let u;for(u=0;u<d.length;u+=1){const k=q(t,d,u);e[u]?e[u].p(k,c):(e[u]=D(k),e[u].c(),e[u].m(h,null))}for(;u<e.length;u+=1)e[u].d(1);e.length=d.length}},i:I,o:I,d(t){t&&(m(l),m(f),m(s),m(o),m(a),m(r),m(i),m(_),m(h)),z(e,t),C=!1,J(g)}}}function K(n,l,p){let f=[],s="",o="";const a="https://butterbudget.deno.dev/",r=async()=>{const g=await fetch(`${a}/api/budgets`);p(0,f=await g.json())},i=async()=>{s&&o&&(await fetch(`${a}/api/budgets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:s,amount:parseFloat(o)})}),p(1,s=""),p(2,o=""),await r())},v=async g=>{await fetch(`${a}/api/budgets/${g}`,{method:"DELETE"}),await r()};M(r);function _(){s=this.value,p(1,s)}function h(){o=F(this.value),p(2,o)}return[f,s,o,i,v,_,h,g=>v(g.id)]}class W extends R{constructor(l){super(),x(this,l,K,G,H,{})}}export{W as component};
