{"version":3,"file":"_page.svelte.js","sources":["../../../../../../src/routes/budgets/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n    import { onMount } from 'svelte';\n  \n    let budgets: any[] = [];\n    let description = '';\n    let amount = '';\n  \n    // Fetch the API base URL from environment variables\n    const API_BASE_URL = import.meta.env.VITE_API_BASE_URL;\n  \n    // Fetch budget items from the backend\n    const fetchBudgets = async () => {\n  try {\n    const res = await fetch(`${import.meta.env.VITE_API_BASE_URL}/api/budgets`);\n    if (!res.ok) {\n      throw new Error(`Error fetching budgets: ${res.status}`);\n    }\n    budgets = await res.json();\n  } catch (err) {\n    console.error(\"Failed to fetch budgets:\", err);\n    // You can set an error message here to display on the frontend if needed.\n  }\n};\n  \n    // Add a new budget item\n    const addBudget = async () => {\n      if (description && amount) {\n        await fetch(`${API_BASE_URL}/api/budgets`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ description, amount: parseFloat(amount) }),\n        });\n        description = '';\n        amount = '';\n        await fetchBudgets();\n      }\n    };\n  \n    // Delete a budget item\n    const deleteBudget = async (id: any) => {\n      await fetch(`${API_BASE_URL}/api/budgets/${id}`, { method: 'DELETE' });\n      await fetchBudgets();\n    };\n  \n    // Fetch budgets when component mounts\n    onMount(fetchBudgets);\n  </script>\n  \n  <h1>Budget Tracker</h1>\n  <input type=\"text\" bind:value={description} placeholder=\"Description\" />\n  <input type=\"number\" bind:value={amount} placeholder=\"Amount\" />\n  <button on:click={addBudget}>Add Budget</button>\n  \n  <ul>\n    {#each budgets as budget}\n      <li>\n        {budget.description} - ${budget.amount}\n        <button on:click={() => deleteBudget(budget.id)}>Delete</button>\n      </li>\n    {/each}\n  </ul>\n  "],"names":[],"mappings":";;AAGQ,MAAA,UAAA,CAAA;MACA,cAAc;MACd,SAAS;qIA4CgB,WAAW,CAAA,8CAAA,cAAA,SACT,MAAM,CAAA,kEAAA,KAI9B,SAAO,CAAA,WAAA;AAET,WAAA,OAAA,OAAA,OAAO,WAAW,CAAM,OAAA,OAAA,OAAO,MAAM,CAAA;AAAA,EAAA;;"}